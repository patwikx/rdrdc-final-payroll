flowchart TD
  A[Employee Submits Leave or Overtime Request]
  B[System Checks Request Details and Employee Eligibility]
  C[Route Request to Immediate Supervisor]
  D{Employee Updates Request Before Supervisor Action?}
  E[Employee Edits Request]
  F[Employee Withdraws Request]
  G[Supervisor Reviews Request]
  H{Supervisor Decision}
  I[Supervisor Rejects Request]
  J[Supervisor Approves and Routes to HR]
  K[HR Final Review]
  L{HR Decision}
  M[HR Rejects Request]
  N[HR Approves Request]
  O{Request Type}
  P[Leave: Apply Final Leave Balance Movement]
  Q[Overtime: Apply Final Overtime Outcome<br/>Payroll OT or CTO Based on Policy]
  R[Record Decision and Notify Employee]
  S[End]

  A --> B --> C --> D
  D -- Edit --> E --> B
  D -- Withdraw --> F --> R --> S
  D -- No --> G --> H
  H -- Reject --> I --> R --> S
  H -- Approve --> J --> K --> L
  L -- Reject --> M --> R --> S
  L -- Approve --> N --> O
  O -- Leave --> P --> R --> S
  O -- Overtime --> Q --> R --> S

  classDef default fill:#ffffff,stroke:#000000,color:#000000;
